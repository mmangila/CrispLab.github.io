"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = _interopRequireDefault(require("react"));

var _react2 = require("@testing-library/react");

var _mobxStateTree = require("mobx-state-tree");

var _configuration = require("@jbrowse/core/configuration");

var _PluginManager = _interopRequireDefault(require("../PluginManager"));

var _ = require(".");

var _BaseFeatureDetail = _interopRequireDefault(require("./BaseFeatureDetail"));

test('open up a widget', function () {
  console.warn = jest.fn();
  var pluginManager = new _PluginManager.default([]);

  var Session = _mobxStateTree.types.model({
    pluginManager: _mobxStateTree.types.optional(_mobxStateTree.types.frozen(), {}),
    rpcManager: _mobxStateTree.types.optional(_mobxStateTree.types.frozen(), {}),
    configuration: (0, _configuration.ConfigurationSchema)('test', {}),
    widget: (0, _.stateModelFactory)(pluginManager)
  });

  var model = Session.create({
    widget: {
      type: 'BaseFeatureWidget'
    }
  });

  var _render = (0, _react2.render)( /*#__PURE__*/_react.default.createElement(_BaseFeatureDetail.default, {
    model: model.widget
  })),
      container = _render.container,
      getByText = _render.getByText;

  model.widget.setFeatureData({
    start: 2,
    end: 102,
    strand: 1,
    score: 37,
    refName: 'ctgA'
  });
  expect(container.firstChild).toMatchSnapshot();
  expect(getByText('ctgA:3..102 (+)')).toBeTruthy();
});