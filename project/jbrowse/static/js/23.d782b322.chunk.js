(this["webpackJsonp@jbrowse/web"]=this["webpackJsonp@jbrowse/web"]||[]).push([[23],{2223:function(e,t,a){"use strict";var n=a(86),r=a(97);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(a(1)),l=(0,n(a(98)).default)(o.createElement("path",{d:"M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"}),"RotateLeft");t.default=l},2224:function(e,t,a){"use strict";var n=a(86),r=a(97);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(a(1)),l=(0,n(a(98)).default)(o.createElement("path",{d:"M15.55 5.55L11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47h2.02zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03zm3.89-2.42l1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48z"}),"RotateRight");t.default=l},2225:function(e,t,a){"use strict";var n=a(86),r=a(97);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(a(1)),l=(0,n(a(98)).default)(o.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");t.default=l},2226:function(e,t,a){"use strict";var n=a(86),r=a(97);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(a(1)),l=(0,n(a(98)).default)(o.createElement("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");t.default=l},2480:function(e,t,a){"use strict";a.r(t);var n=a(83),r=a(1),o=a.n(r),l=a(85),c=a(545),i=a.n(c),s=a(427),d=a.n(s),m=a(2223),u=a.n(m),b=a(2224),g=a.n(b),f=a(2225),h=a.n(f),p=a(2226),v=a.n(p),E=a(257),k=a(51),x=a(2368),y=a(2409),j=a(2394),O=a(2373),w=a(2361),z=a(2363),N=a(19),M=a(128),C=a(84),S=a(102),P=a(336),B=a(162),L=Object(k.a)({rulerLabel:{fontSize:"0.8rem",fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}});function R(e,t,a,n){if(e.flipped){var r=[n,a];a=r[0],n=r[1]}var o=e.bpToXY(a,t),l=e.bpToXY(n,t),c=Math.abs(n-a)/e.bpPerRadian>Math.PI?"1":"0";return["M"].concat(Object(S.a)(o),["A",t,t,"0",c,"1"],Object(S.a)(l)).join(" ")}var T=Object(l.observer)((function(e){var t=e.model,a=e.slice,n=Object(B.a)(),r=t.radiusPx+1,l=a.endRadians,c=a.startRadians,i=a.region,s=Object(C.polarToCartesian)(r,c),d=Object(C.polarToCartesian)(r,l),m=(l-c)*r,u=l-c>Math.PI?"1":"0",b=(l+c)/2,g="[".concat(Number(i.regions.length).toLocaleString(),"]");return o.a.createElement(o.a.Fragment,null,o.a.createElement(F,{text:g,view:t,maxWidthPx:m,radians:b,radiusPx:r,title:"".concat(Number(i.regions.length).toLocaleString()," more regions"),color:n.palette.text.primary}),o.a.createElement("path",{d:["M"].concat(Object(S.a)(s),["A",r,r,"0",u,"1"],Object(S.a)(d)).join(" "),stroke:n.palette.text.secondary,strokeWidth:2,strokeDasharray:"2,2",fill:"none"}))})),F=Object(l.observer)((function(e){var t=e.view,a=e.text,n=e.maxWidthPx,r=e.radians,l=e.radiusPx,c=e.title,i=e.color,s=L(),d=Object(C.polarToCartesian)(l+5,r);return a?6.5*a.length<n?o.a.createElement("text",{x:0,y:0,className:s.rulerLabel,textAnchor:"middle",dominantBaseline:"baseline",transform:"translate(".concat(d,") rotate(").concat(Object(C.radToDeg)(r)+90,")"),style:{fill:i}},a,o.a.createElement("title",null,c||a)):n>4?Object(C.radToDeg)(r+t.offsetRadians-Math.PI/2)>=180?o.a.createElement("text",{x:0,y:0,className:s.rulerLabel,textAnchor:"start",dominantBaseline:"middle",transform:"translate(".concat(d,") rotate(").concat(Object(C.radToDeg)(r),")"),style:{fill:i}},a,o.a.createElement("title",null,c||a)):o.a.createElement("text",{x:0,y:0,className:s.rulerLabel,textAnchor:"end",dominantBaseline:"middle",transform:"translate(".concat(d,") rotate(").concat(Object(C.radToDeg)(r)+180,")"),style:{fill:i}},a,o.a.createElement("title",null,c||a)):null:null})),W=Object(l.observer)((function(e){var t,a=e.model,n=e.slice,r=Object(B.a)(),l=a.radiusPx,c=n.region,i=n.endRadians,s=n.startRadians,d=(i+s)/2,m=(i-s)*l,u=Object(C.getSession)(a).assemblyManager.get(n.region.assemblyName);if(u&&(t=u.getRefNameColor(c.refName)),t)try{t=Object(P.makeContrasting)(t,r.palette.background.paper)}catch(b){t=r.palette.text.primary}else t=r.palette.text.primary;return o.a.createElement(o.a.Fragment,null,o.a.createElement(F,{text:c.refName,view:a,maxWidthPx:m,radians:d,radiusPx:l,color:t}),o.a.createElement("path",{d:R(n,l+1,c.start,c.end),stroke:t,strokeWidth:2,fill:"none"},o.a.createElement("title",null,c.refName)))})),H=Object(l.observer)((function(e){var t=e.model,a=e.slice;return a.region.elided?o.a.createElement(T,{key:Object(C.assembleLocString)(a.region.regions[0]),model:t,slice:a}):o.a.createElement(W,{key:Object(C.assembleLocString)(a.region),model:t,slice:a})})),V=Object(k.a)((function(e){return{root:{position:"relative",marginBottom:e.spacing(1),overflow:"hidden",background:"white"},scroller:{overflow:"auto"},sliceRoot:{background:"none",boxSizing:"content-box",display:"block"},iconButton:{padding:"4px",margin:"0 2px 0 2px"},controls:{overflow:"hidden",whiteSpace:"nowrap",position:"absolute",background:N.a[200],boxSizing:"border-box",borderRight:"1px solid #a2a2a2",borderBottom:"1px solid #a2a2a2",left:0,top:0},importFormContainer:{marginBottom:e.spacing(4)}}})),_=Object(l.observer)((function(e){var t=e.model;return o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,t.staticSlices.map((function(e){return o.a.createElement(H,{key:Object(C.assembleLocString)(e.region.elided?e.region.regions[0]:e.region),model:t,slice:e})}))),o.a.createElement(o.a.Fragment,null,t.tracks.map((function(e){var a=e.displays[0];return o.a.createElement(a.RenderingComponent,{key:a.id,display:a,view:t})}))))})),D=Object(l.observer)((function(e){var t=e.model,a=e.showingFigure,n=V();return o.a.createElement("div",{className:n.controls},o.a.createElement(x.a,{onClick:t.zoomOutButton,className:n.iconButton,title:t.lockedFitToWindow?"unlock to zoom out":"zoom out",disabled:!a||t.atMaxBpPerPx||t.lockedFitToWindow,color:"secondary"},o.a.createElement(i.a,null)),o.a.createElement(x.a,{onClick:t.zoomInButton,className:n.iconButton,title:"zoom in",disabled:!a||t.atMinBpPerPx,color:"secondary"},o.a.createElement(d.a,null)),o.a.createElement(x.a,{onClick:t.rotateCounterClockwiseButton,className:n.iconButton,title:"rotate counter-clockwise",disabled:!a,color:"secondary"},o.a.createElement(u.a,null)),o.a.createElement(x.a,{onClick:t.rotateClockwiseButton,className:n.iconButton,title:"rotate clockwise",disabled:!a,color:"secondary"},o.a.createElement(g.a,null)),o.a.createElement(x.a,{onClick:t.toggleFitToWindowLock,className:n.iconButton,title:t.lockedFitToWindow?"locked model to window size":"unlocked model to zoom further",disabled:t.tooSmallToLock,color:"secondary"},t.lockedFitToWindow?o.a.createElement(h.a,null):o.a.createElement(v.a,null)),t.hideTrackSelectorButton?null:o.a.createElement(x.a,{onClick:t.activateTrackSelector,title:"Open track selector","data-testid":"circular_track_select",color:"secondary"},o.a.createElement(E.b,null)))})),I=Object(l.observer)((function(e){var t=e.model,a=V(),l=Object(r.useState)(0),c=Object(n.a)(l,2),i=c[0],s=c[1],d=Object(C.getSession)(t),m=d.assemblyNames,u=d.assemblyManager,b=m.length?"":"No configured assemblies",g=u.get(m[i]),f=(null===g||void 0===g?void 0:g.regions)||[];return o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{className:a.importFormContainer},o.a.createElement(j.a,{container:!0,spacing:1,justifyContent:"center",alignItems:"center"},o.a.createElement(j.a,{item:!0},o.a.createElement(O.a,{select:!0,value:m[i]&&!b?i:"",onChange:function(e){s(Number(e.target.value))},helperText:b||"Select assembly to view",error:!!b,disabled:!!b,margin:"normal"},m.map((function(e,t){return o.a.createElement(w.a,{key:e,value:t},e)})))),o.a.createElement(j.a,{item:!0},o.a.createElement(z.a,{disabled:!(f&&f.length),onClick:function(){t.setDisplayedRegions(f)},variant:"contained",color:"primary"},f.length?"Open":"Loading\u2026")))))})),A=Object(l.observer)((function(e){var t=e.model,a=V(),n=!!t.displayedRegions.length&&t.figureWidth&&t.figureHeight,r=!n&&!t.disableImportForm,l=n&&!r;return o.a.createElement("div",{className:a.root,style:{width:t.width,height:t.height},"data-testid":t.id},t.error?o.a.createElement("p",{style:{color:"red"}},t.error.message):o.a.createElement(o.a.Fragment,null,r?o.a.createElement(I,{model:t}):null,o.a.createElement(o.a.Fragment,null,l?o.a.createElement("div",{className:a.scroller,style:{width:t.width,height:t.height}},o.a.createElement("div",{className:a.rotator,style:{transform:["rotate(".concat(t.offsetRadians,"rad)")].join(" "),transition:"transform 0.5s",transformOrigin:t.centerXY.map((function(e){return"".concat(e,"px")})).join(" ")}},o.a.createElement("svg",{style:{position:"absolute",left:0,top:0},className:a.sliceRoot,width:"".concat(t.figureWidth,"px"),height:"".concat(t.figureHeight,"px"),version:"1.1"},o.a.createElement("g",{transform:"translate(".concat(t.centerXY,")")},o.a.createElement(_,{model:t}))))):null,o.a.createElement(D,{model:t,showingFigure:l}),t.hideVerticalResizeHandle?null:o.a.createElement(M.ResizeHandle,{onDrag:t.resizeHeight,style:{height:3,position:"absolute",bottom:0,left:0,background:"#ccc",boxSizing:"border-box",borderTop:"1px solid #fafafa"}}))))}));t.default=A}}]);
//# sourceMappingURL=23.d782b322.chunk.js.map